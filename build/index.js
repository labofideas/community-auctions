(()=>{"use strict";var e,o={518(e,o,t){const n=window.wp.blocks,i=window.wp.i18n,a=window.wp.blockEditor,l=window.wp.components,s=window.wp.serverSideRender;var c=t.n(s);const u=window.ReactJSXRuntime,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"community-auctions/auction-grid","version":"0.1.0","title":"Auction Grid","category":"widgets","icon":"grid-view","description":"Display a grid or list of auctions with filtering options.","keywords":["auction","grid","list","marketplace"],"supports":{"html":false,"align":["wide","full"]},"attributes":{"columns":{"type":"number","default":3},"postsPerPage":{"type":"number","default":6},"layout":{"type":"string","default":"grid"},"status":{"type":"string","default":"live"},"category":{"type":"number","default":0},"orderBy":{"type":"string","default":"date"},"order":{"type":"string","default":"DESC"},"showCountdown":{"type":"boolean","default":true},"showBidCount":{"type":"boolean","default":true},"showCurrentBid":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":false}},"textdomain":"community-auctions","render":"file:./render.php"}');(0,n.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:o}){const{columns:t,postsPerPage:n,layout:s,status:r,orderBy:d,order:m,showCountdown:h,showBidCount:y,showCurrentBid:g,showImage:_,showCategory:p}=e,w=(0,a.useBlockProps)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.InspectorControls,{children:[(0,u.jsxs)(l.PanelBody,{title:(0,i.__)("Layout Settings","community-auctions"),children:[(0,u.jsx)(l.SelectControl,{label:(0,i.__)("Layout","community-auctions"),value:s,options:[{label:(0,i.__)("Grid","community-auctions"),value:"grid"},{label:(0,i.__)("List","community-auctions"),value:"list"}],onChange:e=>o({layout:e})}),"grid"===s&&(0,u.jsx)(l.RangeControl,{label:(0,i.__)("Columns","community-auctions"),value:t,onChange:e=>o({columns:e}),min:1,max:4}),(0,u.jsx)(l.RangeControl,{label:(0,i.__)("Number of Auctions","community-auctions"),value:n,onChange:e=>o({postsPerPage:e}),min:1,max:12})]}),(0,u.jsxs)(l.PanelBody,{title:(0,i.__)("Filter & Sort","community-auctions"),children:[(0,u.jsx)(l.SelectControl,{label:(0,i.__)("Status","community-auctions"),value:r,options:[{label:(0,i.__)("Live Auctions","community-auctions"),value:"live"},{label:(0,i.__)("Ended Auctions","community-auctions"),value:"ended"},{label:(0,i.__)("Upcoming","community-auctions"),value:"upcoming"},{label:(0,i.__)("All","community-auctions"),value:"all"}],onChange:e=>o({status:e})}),(0,u.jsx)(l.SelectControl,{label:(0,i.__)("Order By","community-auctions"),value:d,options:[{label:(0,i.__)("Date","community-auctions"),value:"date"},{label:(0,i.__)("End Time","community-auctions"),value:"end_time"},{label:(0,i.__)("Current Bid","community-auctions"),value:"current_bid"},{label:(0,i.__)("Bid Count","community-auctions"),value:"bid_count"},{label:(0,i.__)("Title","community-auctions"),value:"title"}],onChange:e=>o({orderBy:e})}),(0,u.jsx)(l.SelectControl,{label:(0,i.__)("Order","community-auctions"),value:m,options:[{label:(0,i.__)("Descending","community-auctions"),value:"DESC"},{label:(0,i.__)("Ascending","community-auctions"),value:"ASC"}],onChange:e=>o({order:e})})]}),(0,u.jsxs)(l.PanelBody,{title:(0,i.__)("Display Options","community-auctions"),initialOpen:!1,children:[(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Image","community-auctions"),checked:_,onChange:e=>o({showImage:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Countdown","community-auctions"),checked:h,onChange:e=>o({showCountdown:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Current Bid","community-auctions"),checked:g,onChange:e=>o({showCurrentBid:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Bid Count","community-auctions"),checked:y,onChange:e=>o({showBidCount:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Category","community-auctions"),checked:p,onChange:e=>o({showCategory:e})})]})]}),(0,u.jsx)("div",{...w,children:(0,u.jsx)(c(),{block:"community-auctions/auction-grid",attributes:e,LoadingResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"grid-view",label:(0,i.__)("Auction Grid","community-auctions"),children:(0,u.jsx)(l.Spinner,{})}),ErrorResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"warning",label:(0,i.__)("Error","community-auctions"),children:(0,i.__)("Error loading auctions. Please check your settings.","community-auctions")}),EmptyResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"grid-view",label:(0,i.__)("Auction Grid","community-auctions"),children:(0,i.__)("No auctions found matching your criteria.","community-auctions")})})})]})},save:()=>null});const d=window.wp.element,m=window.wp.apiFetch;var h=t.n(m);const y=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"community-auctions/single-auction","version":"0.1.0","title":"Single Auction","category":"widgets","icon":"money-alt","description":"Display a single auction with bidding interface.","keywords":["auction","bid","single","marketplace"],"supports":{"html":false,"align":["wide","full"]},"attributes":{"auctionId":{"type":"number","default":0},"showImage":{"type":"boolean","default":true},"showGallery":{"type":"boolean","default":true},"showCountdown":{"type":"boolean","default":true},"showBidHistory":{"type":"boolean","default":true},"showBidForm":{"type":"boolean","default":true},"showSellerInfo":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":true},"showBuyNow":{"type":"boolean","default":true}},"textdomain":"community-auctions","render":"file:./render.php"}');(0,n.registerBlockType)(y.name,{...y,edit:function({attributes:e,setAttributes:o}){const{auctionId:t,showImage:n,showGallery:s,showCountdown:r,showBidHistory:m,showBidForm:y,showSellerInfo:g,showCategory:_,showBuyNow:p}=e,[w,b]=(0,d.useState)([]),[C,x]=(0,d.useState)(!0),f=(0,a.useBlockProps)();return(0,d.useEffect)(()=>{x(!0),h()({path:"/wp/v2/auction?per_page=100&status=publish,ca_live"}).then(e=>{const o=e.map(e=>({value:e.id,label:e.title.rendered}));b(o),x(!1)}).catch(()=>{x(!1)})},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.InspectorControls,{children:[(0,u.jsx)(l.PanelBody,{title:(0,i.__)("Auction Selection","community-auctions"),children:C?(0,u.jsx)(l.Spinner,{}):(0,u.jsx)(l.ComboboxControl,{label:(0,i.__)("Select Auction","community-auctions"),value:t,options:w,onChange:e=>o({auctionId:parseInt(e,10)||0}),help:(0,i.__)("Choose an auction to display.","community-auctions")})}),(0,u.jsxs)(l.PanelBody,{title:(0,i.__)("Display Options","community-auctions"),initialOpen:!1,children:[(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Featured Image","community-auctions"),checked:n,onChange:e=>o({showImage:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Gallery","community-auctions"),checked:s,onChange:e=>o({showGallery:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Countdown","community-auctions"),checked:r,onChange:e=>o({showCountdown:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Bid History","community-auctions"),checked:m,onChange:e=>o({showBidHistory:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Bid Form","community-auctions"),checked:y,onChange:e=>o({showBidForm:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Seller Info","community-auctions"),checked:g,onChange:e=>o({showSellerInfo:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Category","community-auctions"),checked:_,onChange:e=>o({showCategory:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Buy Now","community-auctions"),checked:p,onChange:e=>o({showBuyNow:e})})]})]}),(0,u.jsx)("div",{...f,children:t?(0,u.jsx)(c(),{block:"community-auctions/single-auction",attributes:e,LoadingResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"money-alt",label:(0,i.__)("Single Auction","community-auctions"),children:(0,u.jsx)(l.Spinner,{})}),ErrorResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"warning",label:(0,i.__)("Error","community-auctions"),children:(0,i.__)("Error loading auction. Please check your settings.","community-auctions")})}):(0,u.jsx)(l.Placeholder,{icon:"money-alt",label:(0,i.__)("Single Auction","community-auctions"),children:(0,i.__)("Select an auction from the block settings.","community-auctions")})})]})},save:()=>null});const g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"community-auctions/countdown-timer","version":"0.1.0","title":"Auction Countdown","category":"widgets","icon":"clock","description":"Display a countdown timer for an auction.","keywords":["auction","countdown","timer","clock"],"supports":{"html":false,"align":true},"attributes":{"auctionId":{"type":"number","default":0},"style":{"type":"string","default":"default"},"showLabels":{"type":"boolean","default":true},"showSeconds":{"type":"boolean","default":true},"endedText":{"type":"string","default":"Auction Ended"},"urgentThreshold":{"type":"number","default":60}},"textdomain":"community-auctions","viewScript":"file:../../build/countdown-view.js","render":"file:./render.php"}');(0,n.registerBlockType)(g.name,{...g,edit:function({attributes:e,setAttributes:o}){const{auctionId:t,style:n,showLabels:s,showSeconds:r,endedText:m,urgentThreshold:y}=e,[g,_]=(0,d.useState)([]),[p,w]=(0,d.useState)(!0),b=(0,a.useBlockProps)();return(0,d.useEffect)(()=>{w(!0),h()({path:"/wp/v2/auction?per_page=100&status=publish,ca_live"}).then(e=>{const o=e.map(e=>({value:e.id,label:e.title.rendered}));_(o),w(!1)}).catch(()=>{w(!1)})},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.InspectorControls,{children:[(0,u.jsx)(l.PanelBody,{title:(0,i.__)("Auction Selection","community-auctions"),children:p?(0,u.jsx)(l.Spinner,{}):(0,u.jsx)(l.ComboboxControl,{label:(0,i.__)("Select Auction","community-auctions"),value:t,options:g,onChange:e=>o({auctionId:parseInt(e,10)||0}),help:(0,i.__)("Choose an auction to display the countdown for.","community-auctions")})}),(0,u.jsxs)(l.PanelBody,{title:(0,i.__)("Display Settings","community-auctions"),children:[(0,u.jsx)(l.SelectControl,{label:(0,i.__)("Style","community-auctions"),value:n,options:[{label:(0,i.__)("Default","community-auctions"),value:"default"},{label:(0,i.__)("Compact","community-auctions"),value:"compact"},{label:(0,i.__)("Large","community-auctions"),value:"large"},{label:(0,i.__)("Minimal","community-auctions"),value:"minimal"}],onChange:e=>o({style:e})}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Labels","community-auctions"),checked:s,onChange:e=>o({showLabels:e}),help:(0,i.__)('Show labels like "Days", "Hours", etc.',"community-auctions")}),(0,u.jsx)(l.ToggleControl,{label:(0,i.__)("Show Seconds","community-auctions"),checked:r,onChange:e=>o({showSeconds:e})}),(0,u.jsx)(l.TextControl,{label:(0,i.__)("Ended Text","community-auctions"),value:m,onChange:e=>o({endedText:e}),help:(0,i.__)("Text to show when the auction has ended.","community-auctions")}),(0,u.jsx)(l.RangeControl,{label:(0,i.__)("Urgent Threshold (minutes)","community-auctions"),value:y,onChange:e=>o({urgentThreshold:e}),min:5,max:1440,help:(0,i.__)("Add urgent styling when less than this many minutes remain.","community-auctions")})]})]}),(0,u.jsx)("div",{...b,children:t?(0,u.jsx)(c(),{block:"community-auctions/countdown-timer",attributes:e,LoadingResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"clock",label:(0,i.__)("Auction Countdown","community-auctions"),children:(0,u.jsx)(l.Spinner,{})}),ErrorResponsePlaceholder:()=>(0,u.jsx)(l.Placeholder,{icon:"warning",label:(0,i.__)("Error","community-auctions"),children:(0,i.__)("Error loading countdown. Please check your settings.","community-auctions")})}):(0,u.jsx)(l.Placeholder,{icon:"clock",label:(0,i.__)("Auction Countdown","community-auctions"),children:(0,i.__)("Select an auction from the block settings.","community-auctions")})})]})},save:()=>null})}},t={};function n(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.m=o,e=[],n.O=(o,t,i,a)=>{if(!t){var l=1/0;for(r=0;r<e.length;r++){for(var[t,i,a]=e[r],s=!0,c=0;c<t.length;c++)(!1&a||l>=a)&&Object.keys(n.O).every(e=>n.O[e](t[c]))?t.splice(c--,1):(s=!1,a<l&&(l=a));if(s){e.splice(r--,1);var u=i();void 0!==u&&(o=u)}}return o}a=a||0;for(var r=e.length;r>0&&e[r-1][2]>a;r--)e[r]=e[r-1];e[r]=[t,i,a]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var i,a,[l,s,c]=t,u=0;if(l.some(o=>0!==e[o])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var r=c(n)}for(o&&o(t);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(r)},t=globalThis.webpackChunkcommunity_auctions=globalThis.webpackChunkcommunity_auctions||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=n.O(void 0,[350],()=>n(518));i=n.O(i)})();